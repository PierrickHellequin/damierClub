# Nom de l'application
spring.application.name=Damier Club

# Configuration du serveur web
server.port=8080
spring.main.web-application-type=servlet

# Configuration de la base de données PostgreSQL (harmonisée)
# Utilise d'abord les variables d'env si présentes, sinon les valeurs par défaut cohérentes avec docker-compose
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://postgres:5432/clubdames}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:clubuser}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:clubpass}
spring.datasource.driver-class-name=org.postgresql.Driver

# Configuration JPA
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.show-sql=true

# Pour garder l'application active
spring.main.keep-alive=true

# Nouveau secret HMAC pour signature entête
auth.hmac.secret=${AUTH_HMAC_SECRET:dev-hmac-secret}

# Configuration Better Auth
auth.sync.token=${AUTH_SYNC_TOKEN:dev-sync-token}